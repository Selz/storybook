(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{2327:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(9),__webpack_require__(31),__webpack_require__(207),__webpack_require__(30),__webpack_require__(13),__webpack_require__(28),__webpack_require__(24),__webpack_require__(159),__webpack_require__(337),__webpack_require__(35);var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(3),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_10__),react__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_11__),react_use_form_state__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(252),_components__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(34),_components__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(204),_components__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(2284),_components__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(52),_components__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(2306),_components__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(46),_hooks__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(181),_hooks__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(2290),_GoogleShoppingSettingsContext__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(103),ComponentForm=function(){var _useContext=Object(react__WEBPACK_IMPORTED_MODULE_11__.useContext)(_GoogleShoppingSettingsContext__WEBPACK_IMPORTED_MODULE_21__.c),setupAds=_useContext.setupAds,handleModalErrorActive=_useContext.handleModalErrorActive,handleModalErrorMessage=_useContext.handleModalErrorMessage,handleNotificationType=_useContext.handleNotificationType,handleNotificationMessage=_useContext.handleNotificationMessage,handleNotificationActive=_useContext.handleNotificationActive,handleAsync=_useContext.handleAsync,async=_useContext.async,apiAdsSetupProgress=_useContext.apiAdsSetupProgress,apiAdsSetupProgressSave=_useContext.apiAdsSetupProgressSave,adsAccountConnected=_useContext.adsAccountConnected,text=Object(_hooks__WEBPACK_IMPORTED_MODULE_19__.a)().text,data=setupAds.data,handleViewActive=Object(react__WEBPACK_IMPORTED_MODULE_11__.useContext)(_GoogleShoppingSettingsContext__WEBPACK_IMPORTED_MODULE_21__.a).handleViewActive,handleRequestSingle=Object(_hooks__WEBPACK_IMPORTED_MODULE_20__.a)().handleRequestSingle,_useFormState=Object(react_use_form_state__WEBPACK_IMPORTED_MODULE_12__.a)({connectGoogleAdsAccount:!0,acceptGoolgleAdsEmail:!1,addBillingInformation:!1}),_useFormState2=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_10___default()(_useFormState,2),formState=_useFormState2[0],checkbox=_useFormState2[1].checkbox,_useState=Object(react__WEBPACK_IMPORTED_MODULE_11__.useState)(!1),_useState2=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_10___default()(_useState,2),formValid=_useState2[0],setFormValid=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_11__.useState)(!1),_useState4=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_10___default()(_useState3,2),showCompleteButton=_useState4[0],setShowCompleteButton=_useState4[1];Object(react__WEBPACK_IMPORTED_MODULE_11__.useEffect)((function(){var values=formState.values,valid=Object.values(values).every((function(item){return!0===item}));setFormValid(valid)}),[formState]);var handleSetupProgressSuccess=function(response){var _response$data=response.data,billingReady=_response$data.billingReady,inviteAccepted=_response$data.inviteAccepted,setupComplete=_response$data.setupComplete;handleAsync(!1),formState.setField("acceptGoolgleAdsEmail",inviteAccepted),formState.setField("addBillingInformation",billingReady),setupComplete||setShowCompleteButton(!0)},handleSetupProgressError=function(_ref){var errorMessage=_ref.errorMessage;handleAsync(!1),handleModalErrorMessage(errorMessage),handleModalErrorActive()};Object(react__WEBPACK_IMPORTED_MODULE_11__.useEffect)((function(){handleAsync(!0),handleRequestSingle({url:apiAdsSetupProgress,method:"get",handleError:handleSetupProgressError,handleSuccess:handleSetupProgressSuccess})}),[]);var handleSetupProgressSaveSuccess=function(){handleAsync(!1),handleViewActive({view:""}),setShowCompleteButton(!1),handleNotificationType("success"),handleNotificationMessage(text.google_ads_account_create_notification_success),handleNotificationActive()},handleSetupProgressSaveError=function(_ref2){var errorMessage=_ref2.errorMessage;handleAsync(!1),handleModalErrorMessage(errorMessage),handleModalErrorActive()},handleSetupProgressSave=function(){handleAsync(!0),handleRequestSingle({url:apiAdsSetupProgressSave,method:"post",handleError:handleSetupProgressSaveError,handleSuccess:handleSetupProgressSaveSuccess})},form=data.map((function(item,index){var id=item.id,label=item.label,description=item.description,disabled=item.disabled,link=item.link,linkLabel=item.linkLabel,_checkbox=checkbox(id),name=_checkbox.name,onChange=_checkbox.onChange,type=_checkbox.type,checked=_checkbox.checked,help=react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_13__.a,{marginBottom:"4",paddingLeft:"5",light:!0,small:!0},description&&"".concat(description," "),link&&react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_14__.a,{label:linkLabel,href:link,target:"_blank"}));return react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_15__.a,{label:label,help:help,checked:checked,disabled:disabled||adsAccountConnected,onChange:[onChange],id:id,name:name,key:index,type:type,marginBottom:"2",marginBottomHelp:"0"})}));return react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_11___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_16__.a,{padding:"4"},react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_17__.a,{onSubmit:handleSetupProgressSave},react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_13__.a,{strong:!0,label:text.google_ads_account_checklist,size:"base",marginBottom:"5"}),react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_13__.a,{label:text.google_ads_account_checklist_description,marginBottom:"5"}),form,showCompleteButton&&react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_18__.a,{data:formValid,label:text.google_ads_account_checklist_complete,onClick:handleSetupProgressSave,type:"submit",appearance:"primary",disabled:!formValid,marginTop:"4",loading:async}))))};ComponentForm.__docgenInfo={description:"",methods:[],displayName:"ComponentForm"},__webpack_exports__.default=ComponentForm,ComponentForm.__docgenInfo={description:"",methods:[],displayName:"ComponentForm"},ComponentForm.__docgenInfo={description:"",methods:[],displayName:"ComponentForm"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Drachma.Web/assets/react/views/google-shopping-settings/views/ads/components/ComponentForm.js"]={name:"ComponentForm",docgenInfo:ComponentForm.__docgenInfo,path:"src/Drachma.Web/assets/react/views/google-shopping-settings/views/ads/components/ComponentForm.js"})}}]);
//# sourceMappingURL=17.cc5112ba344841d7a91d.bundle.js.map