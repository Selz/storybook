(window.webpackJsonp=window.webpackJsonp||[]).push([[8,14],{2262:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(10),__webpack_require__(31),__webpack_require__(203),__webpack_require__(30),__webpack_require__(13),__webpack_require__(29),__webpack_require__(23),__webpack_require__(156),__webpack_require__(332),__webpack_require__(32);var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(3),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_10__),react__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_11__),react_use_form_state__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(248),_components__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(35),_components__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(242),_components__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(2246),_components__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(85),_components__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(2254),_components__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(64),_hooks__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(241),_hooks__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(2193),_GoogleShoppingSettingsContext__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(102),ComponentForm=function(){var _useContext=Object(react__WEBPACK_IMPORTED_MODULE_11__.useContext)(_GoogleShoppingSettingsContext__WEBPACK_IMPORTED_MODULE_21__.c),setupAds=_useContext.setupAds,handleModalErrorActive=_useContext.handleModalErrorActive,handleModalErrorMessage=_useContext.handleModalErrorMessage,handleNotificationType=_useContext.handleNotificationType,handleNotificationMessage=_useContext.handleNotificationMessage,handleNotificationActive=_useContext.handleNotificationActive,handleAsync=_useContext.handleAsync,async=_useContext.async,apiAdsSetupProgress=_useContext.apiAdsSetupProgress,apiAdsSetupProgressSave=_useContext.apiAdsSetupProgressSave,adsAccountConnected=_useContext.adsAccountConnected,text=Object(_hooks__WEBPACK_IMPORTED_MODULE_19__.a)().text,data=setupAds.data,handleViewActive=Object(react__WEBPACK_IMPORTED_MODULE_11__.useContext)(_GoogleShoppingSettingsContext__WEBPACK_IMPORTED_MODULE_21__.a).handleViewActive,handleRequestSingle=Object(_hooks__WEBPACK_IMPORTED_MODULE_20__.a)().handleRequestSingle,_useFormState=Object(react_use_form_state__WEBPACK_IMPORTED_MODULE_12__.a)({connectGoogleAdsAccount:!0,acceptGoolgleAdsEmail:!1,addBillingInformation:!1}),_useFormState2=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_10___default()(_useFormState,2),formState=_useFormState2[0],checkbox=_useFormState2[1].checkbox,_useState=Object(react__WEBPACK_IMPORTED_MODULE_11__.useState)(!1),_useState2=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_10___default()(_useState,2),formValid=_useState2[0],setFormValid=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_11__.useState)(!1),_useState4=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_10___default()(_useState3,2),showCompleteButton=_useState4[0],setShowCompleteButton=_useState4[1];Object(react__WEBPACK_IMPORTED_MODULE_11__.useEffect)((function(){var values=formState.values,valid=Object.values(values).every((function(item){return!0===item}));setFormValid(valid)}),[formState]);var handleSetupProgressSuccess=function(response){var _response$data=response.data,billingReady=_response$data.billingReady,inviteAccepted=_response$data.inviteAccepted,setupComplete=_response$data.setupComplete;handleAsync(!1),formState.setField("acceptGoolgleAdsEmail",inviteAccepted),formState.setField("addBillingInformation",billingReady),setupComplete||setShowCompleteButton(!0)},handleSetupProgressError=function(_ref){var errorMessage=_ref.errorMessage;handleAsync(!1),handleModalErrorMessage(errorMessage),handleModalErrorActive()};Object(react__WEBPACK_IMPORTED_MODULE_11__.useEffect)((function(){handleAsync(!0),handleRequestSingle({url:apiAdsSetupProgress,method:"get",handleError:handleSetupProgressError,handleSuccess:handleSetupProgressSuccess})}),[]);var handleSetupProgressSaveSuccess=function(){handleAsync(!1),handleViewActive({view:""}),setShowCompleteButton(!1),handleNotificationType("success"),handleNotificationMessage(text.google_ads_account_create_notification_success),handleNotificationActive()},handleSetupProgressSaveError=function(_ref2){var errorMessage=_ref2.errorMessage;handleAsync(!1),handleModalErrorMessage(errorMessage),handleModalErrorActive()},handleSetupProgressSave=function(){handleAsync(!0),handleRequestSingle({url:apiAdsSetupProgressSave,method:"post",handleError:handleSetupProgressSaveError,handleSuccess:handleSetupProgressSaveSuccess})},form=data.map((function(item,index){var id=item.id,label=item.label,description=item.description,disabled=item.disabled,link=item.link,linkLabel=item.linkLabel,_checkbox=checkbox(id),name=_checkbox.name,onChange=_checkbox.onChange,type=_checkbox.type,checked=_checkbox.checked,help=react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_13__.a,{marginBottom:"0",size:"small",inline:!0,light:!0},description&&"".concat(description," "),link&&react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_14__.a,{label:linkLabel,href:link,target:"_blank"}));return react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_15__.a,{label:label,help:help,checked:checked,disabled:disabled||adsAccountConnected,onChange:[onChange],id:id,name:name,key:index,type:type,marginBottom:"4",marginBottomHelp:"0"})}));return react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_11___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_16__.a,{padding:"4"},react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_17__.a,{onSubmit:handleSetupProgressSave},react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_13__.a,{strong:!0,label:text.google_ads_account_checklist,size:"base",marginBottom:"5"}),react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_13__.a,{label:text.google_ads_account_checklist_description,marginBottom:"5"}),form,showCompleteButton&&react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_18__.a,{data:formValid,label:text.google_ads_account_checklist_complete,onClick:handleSetupProgressSave,type:"submit",appearance:"primary",disabled:!formValid,marginTop:"4",loading:async}))))};ComponentForm.__docgenInfo={description:"",methods:[],displayName:"ComponentForm"},__webpack_exports__.default=ComponentForm,ComponentForm.__docgenInfo={description:"",methods:[],displayName:"ComponentForm"},ComponentForm.__docgenInfo={description:"",methods:[],displayName:"ComponentForm"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Drachma.Web/assets/react/views/google-shopping-settings/views/ads/components/ComponentForm.js"]={name:"ComponentForm",docgenInfo:ComponentForm.__docgenInfo,path:"src/Drachma.Web/assets/react/views/google-shopping-settings/views/ads/components/ComponentForm.js"})},2277:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),slicedToArray=__webpack_require__(3),slicedToArray_default=__webpack_require__.n(slicedToArray),Block=__webpack_require__(85),Text=__webpack_require__(35),Button=__webpack_require__(64),ModalConfirm=__webpack_require__(2204),useLocale=__webpack_require__(241),useRequestSingle=__webpack_require__(2193),GoogleShoppingSettingsContext=__webpack_require__(102),ComponentConnect=function(){var _useContext=Object(react.useContext)(GoogleShoppingSettingsContext.c),apiAdsDisconnect=_useContext.apiAdsDisconnect,handleAdsAccountConnected=_useContext.handleAdsAccountConnected,handleAdsAccountConnectedId=_useContext.handleAdsAccountConnectedId,handleNotificationType=_useContext.handleNotificationType,handleNotificationMessage=_useContext.handleNotificationMessage,handleNotificationActive=_useContext.handleNotificationActive,handleModalErrorActive=_useContext.handleModalErrorActive,handleModalErrorMessage=_useContext.handleModalErrorMessage,adsAccountConnectedId=_useContext.adsAccountConnectedId,handleAsync=_useContext.handleAsync,async=_useContext.async,text=Object(useLocale.a)().text,handleViewActive=Object(react.useContext)(GoogleShoppingSettingsContext.a).handleViewActive,handleRequestSingle=Object(useRequestSingle.a)().handleRequestSingle,_useState=Object(react.useState)(!1),_useState2=slicedToArray_default()(_useState,2),modalActive=_useState2[0],setModalActive=_useState2[1],handleModalActive=function(){setModalActive(!0)},handleDisconnectSuccess=function(){handleAsync(!1),handleModalActive(),handleViewActive({view:"start"}),handleAdsAccountConnected(!1),handleAdsAccountConnectedId(null),handleNotificationType("success"),handleNotificationMessage(text.google_ads_account_disconnect_notification_success),handleNotificationActive()},handleDisconnectError=function(_ref){var errorMessage=_ref.errorMessage;handleAsync(!1),handleModalErrorMessage(errorMessage),handleModalErrorActive()};return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(Block.a,{padding:"4",borderBottom:!0},react_default.a.createElement(Text.a,{testId:"text-connected-ads-account"},"".concat(adsAccountConnectedId," "),react_default.a.createElement(Button.a,{label:text.disconnect,onClick:handleModalActive,disabled:async,testId:"button-disconnect-ads",faux:!0})),react_default.a.createElement(Text.a,{marginBottom:"0",label:text.google_ads_account_adminsitrative_rights}),react_default.a.createElement(ModalConfirm.a,{label:text.confirm,message:text.google_ads_account_disconnect,confirm:function(){handleAsync(!0),handleRequestSingle({url:apiAdsDisconnect,method:"get",handleError:handleDisconnectError,handleSuccess:handleDisconnectSuccess})},cancel:function(){setModalActive(!1)},active:modalActive,async:async,actionType:"destructive",actionLabelConfirm:text.disconnect})))};ComponentConnect.__docgenInfo={description:"",methods:[],displayName:"ComponentConnect"};var components_ComponentConnect=ComponentConnect;ComponentConnect.__docgenInfo={description:"",methods:[],displayName:"ComponentConnect"},ComponentConnect.__docgenInfo={description:"",methods:[],displayName:"ComponentConnect"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Drachma.Web/assets/react/views/google-shopping-settings/views/ads/components/ComponentConnect.js"]={name:"ComponentConnect",docgenInfo:ComponentConnect.__docgenInfo,path:"src/Drachma.Web/assets/react/views/google-shopping-settings/views/ads/components/ComponentConnect.js"});var ComponentForm=__webpack_require__(2262),ComponentAccount=function(){return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(components_ComponentConnect,null),react_default.a.createElement(ComponentForm.default,null))};ComponentAccount.__docgenInfo={description:"",methods:[],displayName:"ComponentAccount"};__webpack_exports__.default=ComponentAccount;ComponentAccount.__docgenInfo={description:"",methods:[],displayName:"ComponentAccount"},ComponentAccount.__docgenInfo={description:"",methods:[],displayName:"ComponentAccount"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Drachma.Web/assets/react/views/google-shopping-settings/views/ads/components/ComponentAccount.js"]={name:"ComponentAccount",docgenInfo:ComponentAccount.__docgenInfo,path:"src/Drachma.Web/assets/react/views/google-shopping-settings/views/ads/components/ComponentAccount.js"})}}]);
//# sourceMappingURL=8.8a3f27069e607794a73a.bundle.js.map