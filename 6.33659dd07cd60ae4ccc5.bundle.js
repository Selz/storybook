(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1228:function(module,__webpack_exports__,__webpack_require__){"use strict";var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3),ComponentSelectAccount=function(props){var setup=props.setup,onSubmit=props.onSubmit,labelForm=props.labelForm,labelButton=props.labelButton,showLabel=props.showLabel,loading=props.loading,disabled=props.disabled,accountOptions=setup.accountOptions,_useState=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(),_useState2=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState,2),selected=_useState2[0],setSelected=_useState2[1],select=0<accountOptions.length,options=accountOptions.map(function(item){return{label:item,value:item}}),handleSubmit=function(event){onSubmit(event,selected)};return Object(react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function(){setSelected(options[0].value)},[]),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment,null,select&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_3__.q,{onSubmit:handleSubmit},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_3__.u,{label:labelForm,id:"selectAccount",paddingLeft:"0",paddingRight:"0",paddingBottom:"0",showLabel:showLabel,display:"flex",controls:!0,grouped:!0},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_3__.A,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_3__.E,{id:"selectAccount",name:"selectAccount",options:options,value:selected,onChange:function(event){var value=event.target.value;setSelected(value)},disabled:loading||disabled}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_3__.e,{appearance:"secondary",label:labelButton,ariaLabel:labelButton,onClick:handleSubmit,loading:loading,disabled:disabled,reference:"button-link-account"})))))};ComponentSelectAccount.propTypes={setup:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object,labelForm:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,labelButton:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,showLabel:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,loading:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,onSubmit:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,disabled:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool},__webpack_exports__.a=ComponentSelectAccount,ComponentSelectAccount.__docgenInfo={description:"",methods:[],displayName:"ComponentSelectAccount",props:{setup:{type:{name:"object"},required:!1,description:""},labelForm:{type:{name:"string"},required:!1,description:""},labelButton:{type:{name:"string"},required:!1,description:""},showLabel:{type:{name:"bool"},required:!1,description:""},loading:{type:{name:"bool"},required:!1,description:""},onSubmit:{type:{name:"func"},required:!1,description:""},disabled:{type:{name:"bool"},required:!1,description:""}}},ComponentSelectAccount.__docgenInfo={description:"",methods:[],displayName:"ComponentSelectAccount",props:{setup:{type:{name:"object"},required:!1,description:""},labelForm:{type:{name:"string"},required:!1,description:""},labelButton:{type:{name:"string"},required:!1,description:""},showLabel:{type:{name:"bool"},required:!1,description:""},loading:{type:{name:"bool"},required:!1,description:""},onSubmit:{type:{name:"func"},required:!1,description:""},disabled:{type:{name:"bool"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Drachma.Web/assets/react/views/google-shopping-settings/components/ComponentSelectAccount.js"]={name:"ComponentSelectAccount",docgenInfo:ComponentSelectAccount.__docgenInfo,path:"src/Drachma.Web/assets/react/views/google-shopping-settings/components/ComponentSelectAccount.js"})},1237:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var slicedToArray=__webpack_require__(6),slicedToArray_default=__webpack_require__.n(slicedToArray),react=__webpack_require__(0),react_default=__webpack_require__.n(react),components=__webpack_require__(3),ComponentViewHeader=__webpack_require__(289),GoogleShoppingSettingsContext=__webpack_require__(65),ComponentOverview=function(){var text=Object(react.useContext)(GoogleShoppingSettingsContext.c).locale.text;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(components.wb,{marginBottom:"0"},"".concat(text.google_ads_account_overview_1," ").concat(text.learn_more_about," "),react_default.a.createElement(components.M,{label:"".concat(text.google_ads,"."),href:"https://ads.google.com/start",target:"_blank"})))},components_ComponentOverview=ComponentOverview;ComponentOverview.__docgenInfo={description:"",methods:[],displayName:"ComponentOverview"},ComponentOverview.__docgenInfo={description:"",methods:[],displayName:"ComponentOverview"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Drachma.Web/assets/react/views/google-shopping-settings/views/ads/components/ComponentOverview.js"]={name:"ComponentOverview",docgenInfo:ComponentOverview.__docgenInfo,path:"src/Drachma.Web/assets/react/views/google-shopping-settings/views/ads/components/ComponentOverview.js"});__webpack_require__(30),__webpack_require__(16),__webpack_require__(12),__webpack_require__(13),__webpack_require__(21),__webpack_require__(15);var defineProperty=__webpack_require__(2),defineProperty_default=__webpack_require__.n(defineProperty),hooks=__webpack_require__(19),ComponentSelectAccount=__webpack_require__(1228);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?ownKeys(source,!0).forEach(function(key){defineProperty_default()(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))});return target}var ComponentStart=function(){var _useContext=Object(react.useContext)(GoogleShoppingSettingsContext.c),setupAds=_useContext.setupAds,apiAdsConnect=_useContext.apiAdsConnect,async=_useContext.async,handleAsync=_useContext.handleAsync,handleAdsAccountConnected=_useContext.handleAdsAccountConnected,handleAdsAccountConnectedId=_useContext.handleAdsAccountConnectedId,handleNotificationActive=_useContext.handleNotificationActive,handleModalErrorActive=_useContext.handleModalErrorActive,apiAdsCreate=_useContext.apiAdsCreate,text=_useContext.locale.text,handleShowForm=Object(react.useContext)(GoogleShoppingSettingsContext.a).handleShowForm,accountOptions=setupAds.accountOptions,handleRequestSingle=Object(hooks.j)().handleRequestSingle,_useState=Object(react.useState)({create:!1,connect:!1}),_useState2=slicedToArray_default()(_useState,2),loading=_useState2[0],setLoading=_useState2[1],hasAccountOptions=0<accountOptions.length,handleConnectAdsAccountSuccess=function(response){var data=response.data,feedback=response.feedback;if(setLoading(_objectSpread({},loading,{connect:!1})),handleAsync(!1),feedback)handleNotificationActive(feedback.message,"error");else{var adsId=data.adsId;handleShowForm(null,!1),handleAdsAccountConnected(!0),handleAdsAccountConnectedId(adsId),handleNotificationActive(text.google_ads_account_create_notification_success,"success")}},handleConnectAdsAccountError=function(_ref){var errorMessage=_ref.errorMessage;handleAsync(!1),setLoading(_objectSpread({},loading,{connect:!1})),handleModalErrorActive(errorMessage)},handleCreateAccountSuccess=function(response){var adsId=response.data.adsId;handleAsync(!1),setLoading(_objectSpread({},loading,{create:!1})),handleAdsAccountConnected(!0),handleAdsAccountConnectedId(adsId),handleShowForm(null,!0)},handleCreateAccountError=function(_ref2){var errorMessage=_ref2.errorMessage;handleAsync(!1),setLoading(_objectSpread({},loading,{create:!1})),handleModalErrorActive(errorMessage)};return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(components.c,{padding:"4"},react_default.a.createElement(components_ComponentOverview,null)),hasAccountOptions&&react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(components.wb,{strong:!0,label:text.use_existing_account,size:"base",marginBottom:"0",padding:"4",paddingBottom:"0",borderTop:!0,borderBottom:!0}),react_default.a.createElement(components.c,{paddingLeft:"4",paddingRight:"4",paddingBottom:"4"},react_default.a.createElement(ComponentSelectAccount.a,{setup:setupAds,onSubmit:function(event,id){setLoading(_objectSpread({},loading,{connect:!0})),handleAsync(!0),handleRequestSingle({url:apiAdsConnect,method:"post",params:{adsId:id},handleError:handleConnectAdsAccountError,handleSuccess:handleConnectAdsAccountSuccess}),event.preventDefault()},labelAccount:text.google_ads_account,labelForm:text.use_existing_account,labelButton:text.use_this_account,showLabel:!1,loading:loading.connect,disabled:async}))),react_default.a.createElement(components.wb,{strong:!0,label:text.create_new_account,size:"base",marginBottom:"0",padding:"4",paddingBottom:"0",borderTop:!0,borderBottom:!0}),react_default.a.createElement(components.c,{padding:"4"},react_default.a.createElement(components.e,{label:text.google_ads_account_create,onClick:function(event){handleAsync(!0),setLoading(_objectSpread({},loading,{create:!0})),handleRequestSingle({url:apiAdsCreate,method:"get",handleError:handleCreateAccountError,handleSuccess:handleCreateAccountSuccess}),event.preventDefault()},disabled:async,appearance:"primary",loading:loading.create,onClickParam:!0})))},components_ComponentStart=ComponentStart;ComponentStart.__docgenInfo={description:"",methods:[],displayName:"ComponentStart"},ComponentStart.__docgenInfo={description:"",methods:[],displayName:"ComponentStart"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Drachma.Web/assets/react/views/google-shopping-settings/views/ads/components/ComponentStart.js"]={name:"ComponentStart",docgenInfo:ComponentStart.__docgenInfo,path:"src/Drachma.Web/assets/react/views/google-shopping-settings/views/ads/components/ComponentStart.js"});var ComponentConfiguring=Object(react.lazy)(function(){return __webpack_require__.e(1).then(__webpack_require__.bind(null,1230))}),ComponentSetupMerchant=Object(react.lazy)(function(){return __webpack_require__.e(0).then(__webpack_require__.bind(null,1233))}),ComponentAccount=Object(react.lazy)(function(){return __webpack_require__.e(7).then(__webpack_require__.bind(null,1242))}),ComponentForm=Object(react.lazy)(function(){return __webpack_require__.e(11).then(__webpack_require__.bind(null,1231))}),ViewAds=function(){var _useContext=Object(react.useContext)(GoogleShoppingSettingsContext.c),adsAccountConnected=_useContext.adsAccountConnected,merchantAccountConnected=_useContext.merchantAccountConnected,merchantAccountComplete=_useContext.merchantAccountComplete,locale=_useContext.locale,_useState=Object(react.useState)(adsAccountConnected),_useState2=slicedToArray_default()(_useState,2),showForm=_useState2[0],setShowForm=_useState2[1],text=locale.text,loader=react_default.a.createElement(components.P,null);return react_default.a.createElement(GoogleShoppingSettingsContext.a.Provider,{value:{handleShowForm:function(event,show){setShowForm(show)},adsAccountConnected:adsAccountConnected}},react_default.a.createElement(ComponentViewHeader.a,{label:text.google_ads_account}),!merchantAccountConnected&&react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(components.c,{padding:"4",borderBottom:!0},react_default.a.createElement(components_ComponentOverview,null)),react_default.a.createElement(components.c,{padding:"4"},react_default.a.createElement(react.Suspense,{fallback:loader},react_default.a.createElement(ComponentSetupMerchant,null)))),!merchantAccountComplete&&merchantAccountConnected&&react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(components.c,{padding:"4"},react_default.a.createElement(components_ComponentOverview,null)),react_default.a.createElement(components.c,{padding:"4",paddingTop:"2"},react_default.a.createElement(react.Suspense,{fallback:loader},react_default.a.createElement(ComponentConfiguring,null)))),merchantAccountConnected&&adsAccountConnected&&react_default.a.createElement(react.Suspense,{fallback:loader},react_default.a.createElement(ComponentAccount,null)),merchantAccountComplete&&merchantAccountConnected&&!adsAccountConnected&&react_default.a.createElement(react_default.a.Fragment,null,showForm?react_default.a.createElement(react.Suspense,{fallback:loader},react_default.a.createElement(ComponentForm,null)):react_default.a.createElement(react.Suspense,{fallback:loader},react_default.a.createElement(components_ComponentStart,null))))};__webpack_exports__.default=ViewAds;ViewAds.__docgenInfo={description:"",methods:[],displayName:"ViewAds"},ViewAds.__docgenInfo={description:"",methods:[],displayName:"ViewAds"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Drachma.Web/assets/react/views/google-shopping-settings/views/ads/ViewAds.js"]={name:"ViewAds",docgenInfo:ViewAds.__docgenInfo,path:"src/Drachma.Web/assets/react/views/google-shopping-settings/views/ads/ViewAds.js"})}}]);
//# sourceMappingURL=6.33659dd07cd60ae4ccc5.bundle.js.map